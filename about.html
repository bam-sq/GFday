<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Letter Envelope</title>
    <style>
        /* Envelope styles */
        .envelope {
            position: relative;
            width: 300px;
            height: 200px;
            margin: 0 auto 30px;
            background-color: #967BB6;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            cursor: pointer; /* Change cursor to pointer for clickability */
        }

        .flap {
            position: absolute;
            top: -10px;
            left: 0;
            width: 100%;
            height: 120px;
            background-color: #4B0082;
            transform-origin: top;
            transition: transform 0.5s ease-in-out;
            z-index: 5;
            border-radius: 5px 5px 0 0;
        }

            .flap.open {
                transform: rotateX(180deg);
            }

        .letter {
            position: absolute;
            width: 280px;
            height: 400px;
            background: white;
            margin: 10px;
            transition: all 0.4s ease-in-out;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            opacity: 0;
            overflow: hidden;
            border-radius: 5px;
        }

            .letter:not(.open) .paper {
                display: none;
            }

            .letter.open {
                opacity: 1;
                transform: translateY(-100px);
            }

                .letter.open .paper {
                    display: block;
                }

        .paper {
            padding: 20px;
            height: 100%;
            width: 100%;
            overflow-y: scroll;
            box-sizing: border-box;
            overflow-x: hidden;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

            .paper::-webkit-scrollbar {
                display: none;
            }

            .paper p {
                width: 90%;
                margin: 10px auto;
                line-height: 1.5;
                padding: 0;
            }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            position: relative; /* Position relative for the image */
        }

        .container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .description {
            color: #7f8c8d;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        /* Styles for the popup image */
        .popup-image {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 20;
            border: 5px solid #4B0082;
            border-radius: 10px;
            background-color: white;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.8s ease-in-out 1s; /* Delayed appearance */
            width: auto;
            max-width: 90%;
            text-align: center;
        }

            .popup-image.show {
                display: flex;
                flex-direction: column;
                align-items: center;
                opacity: 1;
            }

            .popup-image img {
                max-width: 100%;
                max-height: 70vh;
                border-radius: 5px;
                margin: 0 auto;
                display: block;
            }
    </style>
</head>
<body>
    <div class="container">
        <div class="envelope" id="envelope">
            <div class="flap" id="flap"></div>
            <div class="letter" id="letter">
                <div class="paper">
                    <h1>Happy Girlfriend's Day!!!!</h1>
                    <p>
                        Happy girlfriend's day to my beautiful girlfriend (na liniligawan ko pa hehe)!!!! I'm so happy that I get to call
                        you my girlfriend. I've never been happier than I am right now. I've genuinely changed and grown as a person, as a
                        student, as a friend, and as a partner. I'm so lucky to have fallen in love with you. You've shown me how much I mean
                        to you, and how enjoyable life is. We're going strong at 8 months, and hopefully we'll spend many more months together.
                        I love you so so so so so much, my baby!! I've always felt your love, even before you told me that you loved me. I've
                        always enjoyed your presence, and I've always loved spending spending time with you! I hope you feel how much I love you,
                        because you deserve to know how much you mean to me and how much you're loved!! Thank you so much for being the best partner
                        I could ever ask for, and I hope we can grow old together :> Happy girlfriend's day chamcham!! I love you so muchhhh!!!! Attached
                        is a coupon for unlimited hugs and kisses! You can redeem it any time you want po! HEHEHEHEHE To claim your coupon,
                        please click outside the letter, and take a screenshot of your coupon. Love you po baby!! Mwaaaaah!!!
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup Image -->
    <div class="popup-image" id="popupImage">
        <p>To: Chamcham!</p>
        <img src="https://i.pinimg.com/736x/b6/df/30/b6df300848eb75b45e5b082e6edc672e.jpg" alt="Popup Image">
        <p>From: Bambam!</p>
    </div>

    <script>
        const envelope = document.getElementById('envelope');
        const flap = document.getElementById('flap');
        const letter = document.getElementById('letter');
        const popupImage = document.getElementById('popupImage');

        envelope.addEventListener('click', function () {
            flap.classList.toggle('open');
            letter.classList.toggle('open');
        });

        let clicksNeeded = 2;
        let clickCount = 0;
        let alreadyShown = false;

        document.addEventListener('click', function () {
            if (alreadyShown) return;

            clickCount++;

            if (letter.classList.contains('open')) {
                if (clickCount >= clicksNeeded) {
                    popupImage.classList.add('show');
                    alreadyShown = true;
                }
            } else {
                clickCount = 0;
            }
        });

        // Reset everything if letter is closed
        envelope.addEventListener('click', function () {
            if (!letter.classList.contains('open')) {
                clickCount = 0;
                alreadyShown = false;
                popupImage.classList.remove('show');
            }
        });
    </script>
</body>
</html>
